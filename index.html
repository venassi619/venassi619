<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pegasus Products Int</title>
  <style>
    /* Reset & base */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: Arial, sans-serif;
      color:#111;
      background:#fff;
      line-height:1.5;
      text-align:center;
    }

    header {
      width:100%;
      padding:2rem 0;
      border-bottom:1px solid #ccc;
      text-align:center;
    }
    header img.logo { max-width:200px; height:auto; display:block; margin:0 auto; }

    nav {
      display:flex;
      justify-content:center;
      border-bottom:1px solid #ccc;
      width:100%;
      max-width:1100px;
      margin: 0 auto;
      flex-wrap:wrap;
    }
    nav button {
      flex:1 1 auto;
      padding:1rem;
      border: none;
      background: none;
      font-weight:700;
      cursor:pointer;
      transition:background .18s;
      text-align:center;
    }
    nav button:hover, nav button.active { background:#f0f0f0; color:#000; }

    main {
      max-width:1100px;
      margin:1.5rem auto;
      padding:0 1rem 2rem;
      text-align:center;
    }

    /* SERVICES */
    .services-grid {
      display:grid;
      gap:1rem;
      grid-template-columns: repeat(3, 1fr);
      margin-top:1rem;
    }
    .service {
      border:2px solid #000;
      padding:1rem;
      display:flex;
      flex-direction:column;
      align-items:center;
      min-height:220px;
      background:#fff;
    }
    .service h3 { margin:0.4rem 0; color:#000; }
    .service p { color:#000; font-size:0.96rem; line-height:1.4; text-align:center; }
    .service img { max-width:100%; height:auto; margin:0.75rem 0; }

    /* FOUNDERS */
    .founders {
      display:flex;
      flex-direction:column;
      gap:1.5rem;
      margin-top:1.5rem;
    }
    .founder {
      display:flex;
      gap:1.25rem;
      align-items:flex-start;
      background:#fff;
      padding:1rem;
      border-radius:6px;
      box-shadow:0 6px 18px rgba(0,0,0,0.03);
      text-align:left;
    }
    .founder img {
      width:150px; height:150px; object-fit:cover; border-radius:50%;
      box-shadow:0 2px 6px rgba(0,0,0,0.08);
      flex-shrink:0;
    }
    .founder-text h3 { margin-bottom:0.5rem; color:#000; }
    .founder-text p { color:#000; font-size:0.95rem; line-height:1.45; }

    /* BRANDS */
    .brands-section {
      display:flex;
      flex-direction:column;
      gap:18px;
      padding:8px 0;
      align-items:center;
    }
    .brand-top {
      display:flex;
      gap:18px;
      align-items:stretch;
      width:100%;
      max-width:980px;
      justify-content:center;
    }
    .brand-column {
      background:#fff;
      padding:18px;
      border-radius:8px;
      box-shadow:0 6px 18px rgba(0,0,0,0.03);
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .brand-image { flex: 0 0 320px; }
    .brand-image img {
      max-width:100%;
      height:auto;
      display:block;
      border-radius:6px;
      object-fit:cover;
    }
    .brand-text {
      flex: 1 1 auto;
      display:flex;
      align-items:center;
      justify-content:flex-start;
      text-align:left;
    }
    .brand-text .inner { width:100%; }
    .brand-text h2 { margin:0 0 10px; color:#000; }
    .brand-text p { color:#000; line-height:1.5; font-size:0.97rem; }

    .brand-video { width:100%; display:flex; justify-content:center; }
    .brand-video video {
      width:100%;
      max-width:960px;
      height:auto;
      border-radius:8px;
      background:#000;
      display:block;
    }

    /* GALLERY */
    .gallery-view {
      display:none;
      max-width:980px;
      margin:0 auto;
      align-items:center;
      flex-direction:column;
      gap:1rem;
    }
    .gallery-view img.logo { max-width:180px; height:auto; margin: 1rem auto; }

    .slideshow-container {
      position:relative;
      max-width:800px;
      width:100%;
      overflow:hidden;
      border-radius:8px;
      background:#000;
      min-height:200px;
    }
    .slides {
      display:none;
      width:100%;
      height:auto;
      border-radius:8px;
    }
    .prev, .next {
      cursor:pointer;
      position:absolute;
      top:50%;
      padding:12px;
      color:#fff;
      font-size:18px;
      border-radius:50%;
      user-select:none;
      background-color:rgba(0,0,0,0.3);
      transform:translateY(-50%);
    }
    .prev:hover, .next:hover { background-color:rgba(0,0,0,0.6); }
    .prev { left:10px; }
    .next { right:10px; }

    .gallery-description {
      color:#000;
      font-size:0.96rem;
      max-width:800px;
      text-align:center;
      min-height:1.5em;
    }
    .back-btn {
      margin-top:1rem;
      background:#111;
      color:#fff;
      border:none;
      padding:0.7rem 1.2rem;
      border-radius:6px;
      cursor:pointer;
      font-weight:700;
    }

    /* CONTACT */
    form { display:flex; flex-direction:column; gap:10px; max-width:520px; margin:0 auto; text-align:left; }
    form label { font-weight:700; display:block; color:#000; }
    input, textarea, select { padding:.8rem; border:1px solid #ccc; border-radius:6px; font-size:1rem; width:100%; }
    button[type="submit"] { background:#111; color:#fff; border:none; padding:.8rem; font-weight:700; border-radius:6px; cursor:pointer; }
    .form-status { margin-top:8px; text-align:center; font-weight:700; }

    h2.page-title { text-align:center; margin-bottom:12px; color:#000; }

    /* Responsive */
    @media (max-width: 1024px) {
      .services-grid { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 700px) {
      nav button { flex:1 1 100%; text-align:center; }
      .services-grid { grid-template-columns: 1fr; }
      .founder { flex-direction:column; text-align:center; }
      .founder img { margin-bottom:8px; }
      .brand-top { flex-direction:column; max-width:680px; align-items:stretch; }
      .brand-column { justify-content:flex-start; }
      .brand-image { flex: none; width:100%; }
      .brand-text { justify-content:flex-start; padding-left:0; }
      .brand-text .inner { text-align:left; }
      main { padding:0 12px 18px; }
    }
  </style>
</head>
<body>
  <header>
    <img src="images/7.png" alt="Company Logo" class="logo" loading="lazy">
  </header>

  <nav>
    <button class="tab active" data-content="services">Services</button>
    <button class="tab" data-content="brands">Brands</button>
    <button class="tab" data-content="sponsors">Sponsors</button>
    <button class="tab" data-content="about">About</button>
    <button class="tab" data-content="contact">Contact</button>
  </nav>

  <main id="content" aria-live="polite">
    <!-- content injected here -->
  </main>

  <!-- Stripe.js -->
  <script src="https://js.stripe.com/v3/"></script>

  <script>
    /* ===== CONTENT OBJECT (EXISTING) ===== */
    const content = {};
    content.services =
      '<h2 class="page-title">Our Services</h2>' +
      '<div class="services-grid">' +
        '<div class="service">' +
          '<h3>Supply Chain Logistics & Management</h3>' +
          '<img src="images/logistics.png?v=2" alt="Supply Chain Logistics" loading="lazy">' +
          '<p>We provide tailored logistics solutions designed to simplify and streamline the movement of goods across borders...</p>' +
        '</div>' +
        '<div class="service">' +
          '<h3>Trade & Market Research Consulting</h3>' +
          '<img src="images/market.png?v=2" alt="Market Research" loading="lazy">' +
          '<p>We offer detailed research to help businesses identify opportunities, understand local regulations...</p>' +
        '</div>' +
        '<div class="service">' +
          '<h3>Innovation & Product Development Support</h3>' +
          '<img src="images/innovation.png?v=2" alt="Innovation Support" loading="lazy">' +
          '<p>We assist entrepreneurs and businesses in bringing innovative concepts to life...</p>' +
        '</div>' +
      '</div>';

    content.brands =
      '<div id="brands-original">' +
      '<section class="brands-section">' +
        '<div class="brand-top">' +
          '<div class="brand-column brand-image">' +
            '<img src="images/brand-sample.jpg?v=2" alt="Brand image" loading="lazy">' +
          '</div>' +
          '<div class="brand-column brand-text">' +
            '<div class="inner">' +
              '<h2>EcoVibe</h2>' +
              '<p>EcoVibe is a clothing brand dedicated to raising awareness about endangered species around the world...</p>' +
              '<p><a href="#" id="open-gallery" style="font-weight:bold; text-decoration:underline; color:#000;">View Product Gallery</a></p>' +
            '</div>' +
          '</div>' +
        '</div>' +
        '<div class="brand-video">' +
          '<video controls>' +
            '<source src="videos/brand-sample.mp4" type="video/mp4">' +
            'Your browser does not support the video tag.' +
          '</video>' +
        '</div>' +
      '</section>' +
      '</div>' +

      '<div id="brands-gallery" class="gallery-view">' +
        '<img src="images/brand-sample.png?v=2" alt="Brand Logo" class="logo" loading="lazy">' +
        '<div class="slideshow-container">' +
          '<img class="slides" src="images/ecovibeshirts1.png?v=2" alt="Product 1" loading="lazy">' +
          '<img class="slides" src="images/ecovibeshirts2.png?v=2" alt="Product 2" loading="lazy">' +
          '<img class="slides" src="images/ecovibeshirts3.png?v=2" alt="Product 3" loading="lazy">' +
          '<span class="prev" aria-label="Previous slide">&#10094;</span>' +
          '<span class="next" aria-label="Next slide">&#10095;</span>' +
        '</div>' +
        '<p class="gallery-description" id="gallery-msg">S ($44.99) M ($44.99) L ($45.99) XL ($45.99).</p>' +

        <!-- STRIPE SHIRT FORM BELOW PRICING -->
        '<form id="shirt-form">' +
          '<label for="shirtType">Shirt Type:</label>' +
          '<select id="shirtType" required>' +
            '<option value="classic">Classic</option>' +
            '<option value="premium">Premium</option>' +
          '</select>' +
          '<label for="shirtSize">Size:</label>' +
          '<select id="shirtSize" required>' +
            '<option value="S">S</option>' +
            '<option value="M">M</option>' +
            '<option value="L">L</option>' +
          '</select>' +
          '<label for="quantity">Quantity:</label>' +
          '<input type="number" id="quantity" value="1" min="1" required>' +
          '<button type="submit">Buy Now</button>' +
        '</form>' +

        '<button class="back-btn" id="back-to-brands">Back to Brands</button>' +
      '</div>';

    content.sponsors = '<h2 class="page-title">Sponsors</h2><p style="color:#000;">At EcoVibe, we believe lasting change is only possible through collaboration...</p>';
    content.about = '<h2 class="page-title">Founders</h2>...'; // truncated for brevity
    content.contact = '<h2 class="page-title">Contact Us</h2>...'; // truncated for brevity

    /* ===== TABS & LOAD LOGIC ===== */
    const tabsArray = Array.from(document.querySelectorAll('nav button'));
    function getTabName(btn){ return btn.dataset.content; }
    function setActive(tabName){ tabsArray.forEach(t=>getTabName(t)===tabName ? t.classList.add('active') : t.classList.remove('active')); }

    function setupContactForm(){ /* existing form logic */ }

    let slideshowTimer=null, slidesInitialized=false, currentSlideIndex=0;
    function clearSlideshowTimer(){ if(slideshowTimer){ clearInterval(slideshowTimer); slideshowTimer=null; } }

    function loadContent(tabName){
      const key = tabName || 'services';
      if(key!=='brands'){ clearSlideshowTimer(); slidesInitialized=false; }
      contentArea.innerHTML = content[key] || '<p style="color:#000;">Content not found.</p>';
      setActive(key);
      if(key==='contact') setupContactForm();
      if(key==='brands') setupGallerySwap();
    }

    tabsArray.forEach(tab=>tab.addEventListener('click', e=>{ e.preventDefault(); loadContent(getTabName(tab)); window.location.hash=getTabName(tab); }));
    window.addEventListener('hashchange', ()=>loadContent(window.location.hash.replace('#','')));

    function setupGallerySwap(){
      const original=document.getElementById('brands-original');
      const gallery=document.getElementById('brands-gallery');
      if(!original||!gallery) return;
      gallery.style.display='none';
      const open=document.getElementById('open-gallery');
      const back=document.getElementById('back-to-brands');

      if(open) open.addEventListener('click', e=>{ e.preventDefault(); original.style.display='none'; gallery.style.display='flex'; if(!slidesInitialized){ initSlides(); slidesInitialized=true; } else showSlide(currentSlideIndex||0); setupShirtForm(); });

      if(back) back.addEventListener('click', ()=>{ gallery.style.display='none'; original.style.display=''; clearSlideshowTimer(); });
    }

    function initSlides(){
      const slides=Array.from(document.getElementsByClassName('slides'));
      const prev=document.querySelector('.prev'); const next=document.querySelector('.next');
      if(!slides.length||!prev||!next) return;
      currentSlideIndex=0;
      function show(n){ slides.forEach(s=>s.style.display='none'); currentSlideIndex=(n+slides.length)%slides.length; slides[currentSlideIndex].style.display='block'; }
      window.showSlide=show;
      prev.onclick=()=>show(currentSlideIndex-1); next.onclick=()=>show(currentSlideIndex+1);
      document.addEventListener('keydown', e=>{ if(e.key==='ArrowLeft') show(currentSlideIndex-1); else if(e.key==='ArrowRight') show(currentSlideIndex+1); });
      show(0);
      if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches) slideshowTimer=setInterval(()=>show(currentSlideIndex+1),4000);
    }

    /* ===== STRIPE CHECKOUT ===== */
    async function handleStripeCheckout(event){
      event.preventDefault();
      const type=document.getElementById('shirtType').value;
      const size=document.getElementById('shirtSize').value;
      const quantity=parseInt(document.getElementById('quantity').value)||1;

      const priceMap={ 'classic':{'S':'price_1ClassicS','M':'price_1ClassicM','L':'price_1ClassicL'}, 'premium':{'S':'price_1PremiumS','M':'price_1PremiumM','L':'price_1PremiumL'} };
      const selectedPriceId = priceMap[type][size];
      if(!selectedPriceId){ alert('Invalid selection'); return; }

      const stripe=Stripe('pk_test_XXXXXXXXXXXXXXXXXXXXXXXX'); // replace with your public key
      stripe.redirectToCheckout({ lineItems:[{price:selectedPriceId, quantity}], mode:'payment', successUrl:window.location.href, cancelUrl:window.location.href })
        .then(result=>{ if(result.error) alert(result.error.message); });
    }

    function setupShirtForm(){
      const form=document.getElementById('shirt-form');
      if(form) form.addEventListener('submit', handleStripeCheckout);
    }

    window.addEventListener('DOMContentLoaded', ()=>{ loadContent(window.location.hash.replace('#','')||'services'); });
  </script>
</body>
</html>
